/include/ "zynq.dtsi"

/ {
	model = "Xilinx Zynq ZED";
	memory {
		device_type = "memory";
		reg = <0x000000000 0x20000000>;
	};

	chosen {
		bootargs = "console=ttyPS0,115200 ubi.mtd=qspi-rootfs root=ubi0:qspi-rootfs rw rootfstype=ubifs rootwait";
		linux,stdout-path = "/amba@0/uart@E0001000";
	};
};

&eth {
	phy-handle = <&phy0>;
	phy-mode = "rgmii-id";

	phy0: phy@0 {
		compatible = "marvell,88e1510";
		device_type = "ethernet-phy";
		reg = <0x0>;
		marvell,reg-init=<3 16 0xff00 0x1e 3 17 0xfff0 0x0a>;
	};
};

&primary_flash {
	/* Specify flash chip to expect */
	compatible = "s25fl256s1";
	/* Max frequency for quad read is 104MHz according to data sheet */
	spi-max-frequency = <104000000>;
	/* Flash chip is 32MB, so add 16MB to the rootfs partition */
	partition@qspi-rootfs {
		label = "qspi-rootfs";
		reg = <0x480000 0x1b80000>;
	};
};

&usb {
	xlnx,phy-reset-gpio = <&gpio 85 0>;
};
